<!doctype html>
<html>
    <head>
			<meta charset="utf-8">
			<title>task 6</title>
			<style>
			.found{
				background-color: #fff;
				color:red;
			}
			textarea{
				resize: none;
			}
			.container div{
				display: inline-block;
				float: left;
				padding:0 10px;
				margin: 5px 5px 0 0;
				height:50px;
				line-height:50px;
				background-color: #FF0000;
				color: #fff;
				font-size: 30px;
				font-weight: bold;
			}
			.container{
				overflow: auto;
			}</style>
    </head>
    <body>
			<textarea name = "textarea" cols = "30" rows = "10">Write Something</textarea>
			<button id = "input">输入</button>
			<button id = "search">搜索</button>
			<input type = "text" id = "inText"/>
			<div id = "container">

			</div>
    </body>
    <script>
			 var text = document.getElementsByTagName("textarea");
			 var container = document.getElementById("container");
			 var data = [];
			 window.onload = function(){
				 var input = document.getElementById("input");
				 var search = document.getElementById("search");
				 
				 input.onclick = function(){
						var words = text[0].value;
						words = words.replace(/[^a-zA-Z0-9]/,"");
						var arr = words.split(' ');
						for(var i=0;i<arr.length;i++){
							var oDiv = document.createElement("div");
							oDiv.innerHTML = arr[i];
							container.appendChild(oDiv);
							data.push(arr[i]);
						}
				 }

				 search.onclick = function(){
					var inText = document.getElementById("inText").value;
					container.innerHTML = data.map(function(d){
						if(inText !=null && inText.length>0){
							d = d.replace(new RegExp(inText,'g','<span class = "found">'+inText+'</span>'))
						}
						return "<div>"+d+"</div>"
					}).join("")
				 }
			 }
    </script>
</html>