<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<title>task 4</title>
		<style>
			li{
							display:inline-block;
							background-color: #cd4a48;
							color: #f3f6f7;
							font-size:20px;
							text-align:center;
							padding:5px;
							margin:5px;
							cursor:pointer;
					}
		</style>
	</head>
	<body>

		<input type = "text" id = "inNum">
		<button id = "left_input">左侧入</button>
		<button id = "right_input">右侧入</button>
		<button id = "left_out">左侧出</button>
		<button id = "right_out">右侧出</button>
		<ul id = "outNum">

		</ul>
		<script>
			
			var inNum = document.getElementById("inNum");
			var leftInput = document.getElementById("left_input");
			var rightInput = document.getElementById("right_input");
			var leftOut = document.getElementById("left_out");
			var rightOut = document.getElementById("right_out");
			var outNum = document.getElementById("outNum");
			//插入数字
			function numInput(direction){
				if(inNum.value == ""){
					alert("请输入数字");
				}else if(isNaN(inNum.value)){
					alert("格式错误，请输入数字");
					inNum.value = "";
				}else{
					var li = document.createElement("li");
					li.innerText = inNum.value;
					if(direction === "left"){
						outNum.insertBefore(li,outNum.firstChild);
					}else if(direction === "right"){
						outNum.appendChild(li);
					} 
				}
			}
			//移除数字
			function numOut(direction){
				if(direction === "left"){
					alert("移除数字:" + outNum.firstChild.innerText + "!")
					outNum.removeChild(outNum.firstChild);
				}else if(direction === "right"){
					alert("移除数字:" + outNum.lastChild.innerText + "!")
					outNum.removeChild(outNum.lastChild);
				}
			}
			//添加事件委托，点击数字列表，删除点击数字
			outNum.addEventListener("click",function(ev){
				var ev = ev || window.event;
				var target = ev.target || ev.srcElement;
				if(target.nodeName.toLowerCase() == "li"){
					alert("移除数字:"+target.innerText+"!");
					outNum.removeChild(target)
				}
			})
			//按钮
			leftInput.onclick = function(){numInput("left")};
			rightInput.onclick = function(){numInput("right")};
			leftOut.onclick = function(){numOut("left")};
			rightOut.onclick = function(){numOut("right")};
		</script>
	</body>
</html>
